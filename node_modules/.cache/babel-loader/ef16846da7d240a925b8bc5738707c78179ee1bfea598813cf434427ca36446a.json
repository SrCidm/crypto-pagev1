{"ast":null,"code":"var _jsxFileName = \"C:\\\\Curso\\\\visualCodeProyectos\\\\crypto-pagev1\\\\crypto-pagev1\\\\src\\\\components\\\\InfoCoin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Line, Bar } from 'react-chartjs-2';\nimport { HistoricalChart } from '../config/api';\nimport { Cripto } from '../ContextCripto';\nimport { Button, CircularProgress } from '@mui/material';\nimport \"chart.js/auto\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InfoCoin = ({\n  coin\n}) => {\n  _s();\n  const [historicalData, setHistoricalData] = useState(null);\n  const [volumeData, setVolumeData] = useState(null);\n  const [days, setDays] = useState(30);\n  const {\n    currency\n  } = useContext(Cripto);\n  const fetchHistoricalData = async () => {\n    try {\n      const response = await fetch(HistoricalChart(coin.SYMBOL, currency, days));\n      const responseData = await response.json();\n      setHistoricalData(responseData.Data.Data);\n      setVolumeData(responseData.Data.Data); // Guarda los datos de volumen\n    } catch (error) {\n      console.error('Error fetching historical data:', error);\n    }\n  };\n  useEffect(() => {\n    fetchHistoricalData();\n    // eslint-disable-next-line\n  }, [coin.SYMBOL, currency, days]);\n  const generateChartData = () => {\n    if (!historicalData) return {};\n    const labels = historicalData.map(item => {\n      const date = new Date(item.time * 1000);\n      return new Intl.DateTimeFormat('en-EN', {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      }).format(date);\n    });\n    const data = historicalData.map(item => item.close);\n    return {\n      labels: labels,\n      datasets: [{\n        label: 'Crypto Price',\n        data: data,\n        fill: false,\n        borderColor: 'rgb(0, 150, 250)',\n        tension: 1\n      }]\n    };\n  };\n  const generateVolumeChartData = () => {\n    if (!volumeData) return {};\n    const labels = volumeData.map(() => '');\n    const data = volumeData.map(item => item.volumefrom);\n    return {\n      labels: labels,\n      datasets: [{\n        label: 'Volume',\n        data: data,\n        backgroundColor: 'rgba(0, 150, 200, 0.6)',\n        borderWidth: 1\n      }]\n    };\n  };\n  const handleDaysChange = newDays => {\n    setDays(newDays);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontWeight: \"bold\",\n        fontFamily: \"monospace\",\n        textAlign: \"center\",\n        fontSize: \"50px\"\n      },\n      children: [\"Chart of \", coin.SYMBOL]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: 20\n      },\n      children: historicalData ? /*#__PURE__*/_jsxDEV(Line, {\n        data: generateChartData(),\n        height: 600,\n        width: 1000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(CircularProgress, {\n        style: {\n          color: \"rgb(0, 150, 250)\"\n        },\n        size: 250,\n        thickness: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: 20\n      },\n      children: volumeData ? /*#__PURE__*/_jsxDEV(Bar, {\n        data: generateVolumeChartData(),\n        height: 200,\n        width: 1000,\n        options: {\n          scales: {\n            x: {\n              display: false\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this) // Opción para ocultar el eje X\n      : /*#__PURE__*/_jsxDEV(CircularProgress, {\n        style: {\n          color: \"rgb(0, 150, 250)\"\n        },\n        size: 250,\n        thickness: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          marginRight: \"3vh\"\n        },\n        size: \"small\",\n        variant: \"outlined\",\n        onClick: () => handleDaysChange(1),\n        disabled: days === 1 // Botón \"Today\"\n        ,\n        children: \"Today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          marginRight: \"3vh\"\n        },\n        size: \"small\",\n        variant: \"outlined\",\n        onClick: () => handleDaysChange(7),\n        disabled: days === 7 // Botón \"Last 7 days\"\n        ,\n        children: \"Last 7 days\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          marginRight: \"3vh\"\n        },\n        size: \"small\",\n        variant: \"outlined\",\n        onClick: () => handleDaysChange(30),\n        disabled: days === 30 // Botón \"Last 30 days\"\n        ,\n        children: \"Last 30 days\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(InfoCoin, \"cQpv5eekQCPpvjtRQCyocu45lF8=\");\n_c = InfoCoin;\nexport default InfoCoin;\nvar _c;\n$RefreshReg$(_c, \"InfoCoin\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Line","Bar","HistoricalChart","Cripto","Button","CircularProgress","jsxDEV","_jsxDEV","InfoCoin","coin","_s","historicalData","setHistoricalData","volumeData","setVolumeData","days","setDays","currency","fetchHistoricalData","response","fetch","SYMBOL","responseData","json","Data","error","console","generateChartData","labels","map","item","date","Date","time","Intl","DateTimeFormat","weekday","year","month","day","format","data","close","datasets","label","fill","borderColor","tension","generateVolumeChartData","volumefrom","backgroundColor","borderWidth","handleDaysChange","newDays","children","style","fontWeight","fontFamily","textAlign","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","height","width","color","size","thickness","options","scales","x","display","marginRight","variant","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Curso/visualCodeProyectos/crypto-pagev1/crypto-pagev1/src/components/InfoCoin.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Line, Bar } from 'react-chartjs-2';\r\nimport { HistoricalChart } from '../config/api';\r\nimport { Cripto } from '../ContextCripto';\r\nimport { Button, CircularProgress } from '@mui/material';\r\nimport { } from \"chart.js/auto\"\r\n\r\nconst InfoCoin = ({ coin }) => {\r\n  const [historicalData, setHistoricalData] = useState(null);\r\n  const [volumeData, setVolumeData] = useState(null);\r\n  const [days, setDays] = useState(30); \r\n  const { currency } = useContext(Cripto);\r\n\r\n  const fetchHistoricalData = async () => {\r\n    try {\r\n      const response = await fetch(HistoricalChart(coin.SYMBOL, currency, days));\r\n      const responseData = await response.json();\r\n      setHistoricalData(responseData.Data.Data);\r\n      setVolumeData(responseData.Data.Data); // Guarda los datos de volumen\r\n    } catch (error) {\r\n      console.error('Error fetching historical data:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHistoricalData();\r\n    // eslint-disable-next-line\r\n  }, [coin.SYMBOL, currency, days]); \r\n  const generateChartData = () => {\r\n    if (!historicalData) return {};\r\n  \r\n    const labels = historicalData.map(item => {\r\n      const date = new Date(item.time * 1000); \r\n      return new Intl.DateTimeFormat('en-EN', { \r\n        weekday: 'long', \r\n        year: 'numeric', \r\n        month: 'long', \r\n        day: 'numeric',\r\n      }).format(date);\r\n    });\r\n    const data = historicalData.map(item => item.close);\r\n  \r\n    return {\r\n      labels: labels,\r\n      datasets: [\r\n        {\r\n          label: 'Crypto Price',\r\n          data: data,\r\n          fill: false,\r\n          borderColor: 'rgb(0, 150, 250)',\r\n          tension: 1,\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  const generateVolumeChartData = () => {\r\n    if (!volumeData) return {};\r\n\r\n    const labels = volumeData.map(() => ''); \r\n    const data = volumeData.map(item => item.volumefrom);\r\n\r\n    return {\r\n      labels: labels,\r\n      datasets: [\r\n        {\r\n          label: 'Volume',\r\n          data: data,\r\n          backgroundColor: 'rgba(0, 150, 200, 0.6)', \r\n          borderWidth: 1\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  const handleDaysChange = (newDays) => {\r\n    setDays(newDays);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 style={{ fontWeight: \"bold\", fontFamily: \"monospace\",textAlign:\"center\",fontSize:\"50px\" }}>Chart of {coin.SYMBOL}</h2>\r\n      <div style={{marginLeft:20}}>\r\n        {historicalData ? (\r\n          <Line data={generateChartData()} height={600} width={1000}/>\r\n        ) : (\r\n          <CircularProgress style={{ color: \"rgb(0, 150, 250)\" }} size={250} thickness={1} />\r\n        )}\r\n      </div>\r\n      <div style={{marginLeft:20}}>\r\n        {volumeData ? (\r\n          <Bar data={generateVolumeChartData()} height={200} width={1000} options={{ scales: { x: { display: false } } }} /> // Opción para ocultar el eje X\r\n        ) : (\r\n          <CircularProgress style={{ color: \"rgb(0, 150, 250)\" }} size={250} thickness={1} />\r\n        )}\r\n      </div>\r\n      <div style={{textAlign:\"center\"}}>\r\n        <Button\r\n          style={{marginRight:\"3vh\"}}\r\n          size='small'\r\n          variant=\"outlined\"\r\n          onClick={() => handleDaysChange(1)}\r\n          disabled={days === 1} // Botón \"Today\"\r\n        >\r\n          Today\r\n        </Button>\r\n        <Button\r\n          style={{marginRight:\"3vh\"}}\r\n          size='small'\r\n          variant=\"outlined\"\r\n          onClick={() => handleDaysChange(7)}\r\n          disabled={days === 7} // Botón \"Last 7 days\"\r\n        >\r\n          Last 7 days\r\n        </Button>\r\n        <Button\r\n          style={{marginRight:\"3vh\"}}\r\n          size='small'\r\n          variant=\"outlined\"\r\n          onClick={() => handleDaysChange(30)}\r\n          disabled={days === 30} // Botón \"Last 30 days\"\r\n          >\r\n          Last 30 days\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoCoin;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}